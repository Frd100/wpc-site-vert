---
// Domaines Cards Component
---

<section class="wpc-domaines-cards-section py-12 px-3 md:px-4 bg-white">
  <div class="wpc-domaines-cards-title-wrapper mb-12">
    <p class="wpc-domaines-cards-subtitle cmp-expertise-subtitle text-lg md:text-xl text-center text-gray-700 mb-8">
      Trois domaines d'intervention<br>
      pour accompagner vos projets.
    </p>
  </div>
  
  <div class="wpc-domaines-cards-container grid grid-cols-1 md:grid-cols-3 gap-6 max-w-7xl mx-auto">
    <div class="wpc-domaine-card bg-gray-800 rounded-2xl p-8 text-white">
      <div class="wpc-domaine-card-content">
        <div class="wpc-domaine-card-title-section mb-6">
          <div class="wpc-domaine-card-header mb-2">
            <span class="wpc-domaine-card-header-text text-sm font-medium text-primary-blue">Stratégie & Marketing</span>
          </div>
          <h2 class="wpc-domaine-card-main-title text-xl font-bold">Stratégie et communication</h2>
        </div>
        <div class="wpc-domaine-card-description">
          <p class="text-gray-300">Études de marché, création de portefeuilles clients, élaboration de plans de communication.</p>
        </div>
      </div>
    </div>

    <div class="wpc-domaine-card bg-gray-800 rounded-2xl p-8 text-white">
      <div class="wpc-domaine-card-content">
        <div class="wpc-domaine-card-title-section mb-6">
          <div class="wpc-domaine-card-header mb-2">
            <span class="wpc-domaine-card-header-text text-sm font-medium text-primary-blue">Juridique</span>
          </div>
          <h2 class="wpc-domaine-card-main-title text-xl font-bold">Conseil et veille juridique</h2>
        </div>
        <div class="wpc-domaine-card-description">
          <p class="text-gray-300">Rédaction de documents de référence, appui aux démarches administratives, veille juridique et réglementaire.</p>
        </div>
      </div>
    </div>

    <div class="wpc-domaine-card bg-gray-800 rounded-2xl p-8 text-white">
      <div class="wpc-domaine-card-content">
        <div class="wpc-domaine-card-title-section mb-6">
          <div class="wpc-domaine-card-header mb-2">
            <span class="wpc-domaine-card-header-text text-sm font-medium text-primary-blue">Numérique</span>
          </div>
          <h2 class="wpc-domaine-card-main-title text-xl font-bold">Solutions digitales et transformation</h2>
        </div>
        <div class="wpc-domaine-card-description">
          <p class="text-gray-300">Audit de présence digitale, création de sites web, optimisation des outils collaboratifs.</p>
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  
  import { waitForGSAP, getGSAP } from '../scripts/utils';
  
  document.addEventListener('DOMContentLoaded', async () => {
    try {
      await waitForGSAP();
    } catch (error) {
      return;
    }

    const { gsap, SplitText, ScrollTrigger } = getGSAP();
    
    if (!gsap || !SplitText || !ScrollTrigger) {
      return;
    }

    // Animation du sous-titre
    const subtitle = document.querySelector('.wpc-domaines-cards-subtitle');
    if (subtitle) {
      const split = new SplitText(subtitle, { type: 'words' });

      const tl = gsap.timeline({
        scrollTrigger: {
          trigger: subtitle,
          start: 'top 90%',
          toggleActions: 'play none none none'
        }
      });

      tl.from(split.words, {
        duration: 0.5,
        opacity: 0,
        y: 40,
        ease: 'power3.out',
        stagger: 0.03
      });
    }

    // Animation des cartes au scroll (simple fade-in)
    const cards = document.querySelectorAll('.wpc-domaine-card');
    cards.forEach((card, index) => {
      gsap.from(card, {
        opacity: 0,
        y: 40,
        duration: 0.6,
        ease: 'power2.out',
        scrollTrigger: {
          trigger: card,
          start: 'top 85%',
          toggleActions: 'play none none none'
        },
        delay: index * 0.1
      });
    });
  });
</script>

<style>
  .wpc-domaines-cards-section {
    padding: 3rem 0.75rem;
    background-color: #FFFFFF;
  }
  
  @media (min-width: 768px) {
    .wpc-domaines-cards-section {
      padding: 3rem 1rem;
    }
  }
  
  .wpc-domaines-cards-container {
    display: grid;
    grid-template-columns: 1fr;
    gap: 1.5rem;
    max-width: 80rem;
    margin: 0 auto;
  }
  
  @media (min-width: 768px) {
    .wpc-domaines-cards-container {
      grid-template-columns: repeat(3, 1fr);
    }
  }
</style>

