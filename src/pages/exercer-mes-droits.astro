---
import BaseLayout from '../layouts/BaseLayout.astro';
---

<BaseLayout 
  title="Exercer mes droits RGPD - West Paris Consulting"
  description="Exercer vos droits RGPD auprès de West Paris Consulting : accès, rectification, suppression de vos données personnelles."
  pageId="page-wpc-exercer-droits"
  ogUrl="https://westparisconsulting.fr/exercer-mes-droits"
>
  <!-- Hero Section Exercer mes droits -->
  <div class="hero-section bg-primary-blue py-16 px-4">
    <div class="hero-content max-w-4xl mx-auto text-center">
      <h1 class="hero-title text-3xl md:text-4xl font-bold text-white">Exercer mes droits RGPD</h1>
    </div>
  </div>

  <!-- Contenu principal -->
  <main class="main py-12 px-4">
    <div id="main-wpc-content" class="cmp-container max-w-4xl mx-auto">
      <div class="section">
        <!-- Section Exercer mes droits -->
        <div id="section-wpc-exercer-droits" class="cmp-container section-gray bg-white rounded-lg p-8 md:p-12">
          <div class="cmp-exercer-droits-section">
            <div class="cmp-exercer-droits-content">
              <!-- Explication des droits -->
              <div class="cmp-droits-info mb-12">
                <div class="legal-content space-y-6">
                  <div class="legal-section">
                    <h3 class="legal-title text-xl font-semibold mb-2 text-gray-900">Droit d'accès</h3>
                    <p class="legal-text text-gray-700">
                      Vous pouvez demander quelles données personnelles nous détenons sur vous et comment elles sont utilisées.
                    </p>
                  </div>

                  <div class="legal-section">
                    <h3 class="legal-title text-xl font-semibold mb-2 text-gray-900">Droit de rectification</h3>
                    <p class="legal-text text-gray-700">
                      Vous pouvez demander la correction de données inexactes ou incomplètes.
                    </p>
                  </div>

                  <div class="legal-section">
                    <h3 class="legal-title text-xl font-semibold mb-2 text-gray-900">Droit à l'effacement</h3>
                    <p class="legal-text text-gray-700">
                      Vous pouvez demander la suppression de vos données personnelles dans certaines circonstances.
                    </p>
                  </div>

                  <div class="legal-section">
                    <h3 class="legal-title text-xl font-semibold mb-2 text-gray-900">Droit à la limitation</h3>
                    <p class="legal-text text-gray-700">
                      Vous pouvez demander la limitation du traitement de vos données.
                    </p>
                  </div>

                  <div class="legal-section">
                    <h3 class="legal-title text-xl font-semibold mb-2 text-gray-900">Droit à la portabilité</h3>
                    <p class="legal-text text-gray-700">
                      Vous pouvez demander une copie de vos données dans un format structuré.
                    </p>
                  </div>
                </div>
              </div>

              <!-- Formulaire -->
              <div class="cmp-droits-form">
                <h2 class="legal-title text-2xl font-bold mb-6 text-gray-900">Exercer vos droits</h2>
                
                <div class="droits-form">
                  <p class="legal-text text-gray-700 mb-6">
                    Pour exercer vos droits relatifs au traitement de vos données personnelles, vous pouvez nous contacter directement par email.
                  </p>

                  <div class="text-center my-8">
                    <a 
                      href="mailto:contact@westparisconsulting.fr?subject=Exercice%20de%20mes%20droits%20RGPD&body=Bonjour,%0A%0AJe%20souhaite%20exercer%20mes%20droits%20relatifs%20au%20traitement%20de%20mes%20données%20personnelles.%0A%0AType%20de%20demande%20:%20%0A%0ADétails%20de%20ma%20demande%20:%20%0A%0AMes%20coordonnées%20:%0A-%20Nom%20:%20%0A-%20Prénom%20:%20%0A-%20Email%20:%20%0A%0AMerci%20pour%20votre%20traitement.%0A%0ACordialement"
                      class="hero-button button button--stroke inline-block px-6 py-3 border-2 border-primary-blue text-primary-blue hover:bg-primary-blue hover:text-white transition-colors relative overflow-hidden"
                      data-block="button"
                    >
                      <span class="button__flair absolute inset-0 rounded-full opacity-0 pointer-events-none"></span>
                      <span class="button__label relative z-10">Envoyer ma demande par email</span>
                    </a>
                  </div>

                  <p class="legal-text text-sm text-gray-500 mt-4">
                    <strong>Note :</strong> En cliquant sur ce bouton, votre client email s'ouvrira avec un message pré-rempli. Vous pourrez le personnaliser avant de l'envoyer.
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>
</BaseLayout>

<script>
  
  import { waitForGSAP, getGSAP } from '../scripts/utils';
  
  document.addEventListener('DOMContentLoaded', async () => {
    try {
      await waitForGSAP();
    } catch (error) {
      return;
    }

    const { gsap } = getGSAP();
    
    if (!gsap) {
      return;
    }

    // Animation du bouton flair (ripple effect)
    const heroButton = document.querySelector('.hero-button');
    if (heroButton) {
      heroButton.addEventListener('mousemove', (e: MouseEvent) => {
        const flair = heroButton.querySelector('.button__flair') as HTMLElement;
        if (!flair) return;

        const rect = heroButton.getBoundingClientRect();
        const x = e.clientX - rect.left;
        const y = e.clientY - rect.top;

        flair.style.left = `${x}px`;
        flair.style.top = `${y}px`;
        flair.style.transform = 'translate(-50%, -50%)';
        
        gsap.to(flair, {
          width: '200px',
          height: '200px',
          opacity: 0.3,
          duration: 0.5,
          ease: 'power2.out'
        });
      });

      heroButton.addEventListener('mouseleave', () => {
        const flair = heroButton.querySelector('.button__flair') as HTMLElement;
        if (flair && gsap) {
          gsap.to(flair, {
            opacity: 0,
            duration: 0.3
          });
        }
      });
    }
  });
</script>

<style>
  .hero-section {
    background-color: #1B86FF;
    padding: 4rem 1rem;
  }

  .legal-content {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
  }

  .legal-section {
    padding-bottom: 1.5rem;
    border-bottom: 1px solid #e5e7eb;
  }

  .legal-section:last-child {
    border-bottom: none;
  }

  .button__flair {
    width: 0;
    height: 0;
    background: rgba(27, 134, 255, 0.3);
    border-radius: 50%;
    transform: translate(-50%, -50%);
  }
</style>

